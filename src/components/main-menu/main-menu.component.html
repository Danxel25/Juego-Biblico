<div class="max-w-5xl mx-auto space-y-8">
  @if (user(); as currentUser) {
    <!-- Welcome Header -->
    <div class="text-center p-6 rounded-2xl shadow-lg bg-gradient-to-br from-white to-slate-100 border border-slate-200 dark:from-gray-800 dark:to-slate-900 dark:border-slate-700">
        <h1 class="text-3xl md:text-4xl font-extrabold font-cinzel text-teal-800 dark:text-teal-400 tracking-wider">Bienvenido a Cruzada Celestial</h1>
        @if(currentUser.mottoVerse) {
          <p class="mt-2 text-md text-slate-600 dark:text-slate-300 italic">"{{currentUser.mottoVerse.text}}" - {{currentUser.mottoVerse.reference}}</p>
        }
        
        <div class="mt-6 max-w-sm mx-auto">
            <div class="flex justify-between items-center text-slate-700 dark:text-slate-300 font-bold text-sm">
                <span>Nivel {{ currentUser.level }}</span>
                <span>{{ currentUser.xp }} / {{ currentUser.level * 1000 }} XP</span>
            </div>
            <div class="w-full bg-slate-200 rounded-full h-3 mt-1 shadow-inner dark:bg-slate-700">
                <div class="bg-gradient-to-r from-teal-400 to-emerald-500 h-3 rounded-full transition-all duration-500" [style.width.%]="xpPercentage"></div>
            </div>
            <p class="text-sm mt-1 text-slate-500 dark:text-slate-400 font-semibold">{{ currentUser.title }}</p>
        </div>
    </div>
  }

  <!-- Game Modes Grid -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <!-- Campaign (Large) -->
    <a routerLink="/campaign" class="md:col-span-3 group relative p-8 flex flex-col items-start text-white bg-gradient-to-br from-teal-500 to-emerald-600 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl active:scale-[0.99]">
      <div class="absolute -right-8 -bottom-8 text-emerald-400/20">
        <!-- Shield Icon for Campaña/Cruzada -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-48 w-48" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" /></svg>
      </div>
      <h2 class="text-3xl font-bold font-cinzel relative z-10">Campaña Principal</h2>
      <p class="text-emerald-100 mt-2 relative z-10">Embárcate en un viaje épico a través de las historias de la fe.</p>
      <span class="mt-6 px-4 py-2 bg-white/20 text-white font-bold rounded-full text-sm relative z-10 group-hover:bg-white/30 transition-colors">Comenzar Aventura</span>
    </a>

    <!-- Duel -->
    <a routerLink="/duel" class="group relative p-6 flex flex-col items-start text-white bg-gradient-to-br from-sky-500 to-blue-600 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl active:scale-[0.99]">
       <div class="absolute -right-4 -bottom-4 text-blue-400/20">
         <svg xmlns="http://www.w3.org/2000/svg" class="h-32 w-32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M15.182 6.718a4.5 4.5 0 01-6.364 0M15.182 17.282a4.5 4.5 0 01-6.364 0M11.03 12.37a.75.75 0 01-1.06 0l-1.06-1.06a.75.75 0 010-1.06l4.24-4.242a.75.75 0 011.06 0l1.06 1.06a.75.75 0 010 1.06l-4.24 4.242zM12.44 11.03a.75.75 0 010 1.06l-1.06 1.06a.75.75 0 01-1.06 0l-4.242-4.24a.75.75 0 010-1.06l1.06-1.06a.75.75 0 011.06 0l4.242 4.24z" /></svg>
       </div>
      <h2 class="text-2xl font-bold font-cinzel relative z-10">Duelo Celestial</h2>
      <p class="text-blue-100 mt-1 relative z-10">Compite contra otros fieles.</p>
      <span class="mt-auto pt-4 px-4 py-2 bg-white/20 text-white font-bold rounded-full text-sm relative z-10 group-hover:bg-white/30 transition-colors">Entrar a la Arena</span>
    </a>

    <!-- Quick Challenge -->
    <a routerLink="/quick-challenge" class="group relative p-6 flex flex-col items-start text-white bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl active:scale-[0.99]">
       <div class="absolute -right-4 -bottom-4 text-orange-400/20">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-32 w-32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" /></svg>
       </div>
      <h2 class="text-2xl font-bold font-cinzel relative z-10">Desafío Rápido</h2>
      <p class="text-orange-100 mt-1 relative z-10">Pon a prueba tu agilidad.</p>
      <span class="mt-auto pt-4 px-4 py-2 bg-white/20 text-white font-bold rounded-full text-sm relative z-10 group-hover:bg-white/30 transition-colors">Iniciar Prueba</span>
    </a>

    <!-- Leaderboard -->
    <a routerLink="/leaderboard" class="group relative p-6 flex flex-col items-start text-white bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl active:scale-[0.99]">
       <div class="absolute -right-4 -bottom-4 text-indigo-400/20">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-32 w-32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
       </div>
      <h2 class="text-2xl font-bold font-cinzel relative z-10">Clasificaciones</h2>
      <p class="text-indigo-100 mt-1 relative z-10">Mide tu fe con la comunidad.</p>
      <span class="mt-auto pt-4 px-4 py-2 bg-white/20 text-white font-bold rounded-full text-sm relative z-10 group-hover:bg-white/30 transition-colors">Ver Ranking</span>
    </a>
    
    <!-- Community -->
    <a routerLink="/community" class="md:col-span-2 group relative p-6 flex flex-col items-start text-white bg-gradient-to-br from-slate-600 to-gray-800 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl active:scale-[0.99]">
      <div class="absolute -right-4 -bottom-4 text-gray-400/20">
         <svg xmlns="http://www.w3.org/2000/svg" class="h-32 w-32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" /></svg>
       </div>
      <h2 class="text-2xl font-bold font-cinzel relative z-10">Estudio Comunitario</h2>
      <p class="text-gray-200 mt-1 relative z-10">Aprende y comparte en grupo.</p>
       <span class="mt-auto pt-4 px-4 py-2 bg-white/20 text-white font-bold rounded-full text-sm relative z-10 group-hover:bg-white/30 transition-colors">Visitar Foro</span>
    </a>
    
    <!-- Event -->
    <a routerLink="/event" class="group relative p-6 flex flex-col items-start text-white bg-gradient-to-br from-rose-500 to-red-600 rounded-2xl shadow-lg overflow-hidden transition-all duration-300 transform hover:-translate-y-1 hover:shadow-2xl active:scale-[0.99]">
       <div class="absolute -right-4 -bottom-4 text-red-400/20">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-32 w-32" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18" /></svg>
       </div>
      <h2 class="text-2xl font-bold font-cinzel relative z-10">Evento Semanal</h2>
      <p class="text-red-100 mt-1 relative z-10">Desafíos y recompensas.</p>
       <span class="mt-auto pt-4 px-4 py-2 bg-white/20 text-white font-bold rounded-full text-sm relative z-10 group-hover:bg-white/30 transition-colors">Ver Evento</span>
    </a>
  </div>
</div>